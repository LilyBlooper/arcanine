## 架构语录

没有银弹，微服务将单体应用的复杂度转移到了应用组件之间

选型考虑点：
社区热度:
	文档多、坑少、比较容易找到人
架构成熟度：
	方便开发、方便迁移、多语言支持、多协议支持
学习曲线：
	基于成熟技术、现有知识传承
可维护性：
	监控能力、运维能力
	
在微服务架构中，为了彻底隔绝不同服务，采用了最坚决的方案，强制要求服务之间：通过 **远程访问** 方式进行通讯

	
	
### 分布式事务
传统：ACID 
开始事务 - 操作*n - 提交/回滚  -> 借助的是关系型数据库的能力

两阶段提交 - 2PC
nosql等等不支持事务,2pc不适用

CAP原理 -> consistency 和 availability 选择其一，一般选c，而a通过最终一致性来满足

* 最终一致性：
可靠事件模式、业务补偿模式、TCC模式

* 可靠事件模式：
（a）每个服务原子性的业务操作和发布事件
（b）消息代理确保事件传递至少一次。避免重复消费要求服务实现幂等性，如支付服务不能因为重复收到事件而多次支付

* 本地事件表

* 补偿模式

### 技术管理的一步步提升

01规范化 - 统一并简化技术栈、规范开发流程
02可重用 - 基础类库、基础设施、基础组件
03敏捷   - 敏捷开发、CI/CD、DevOps
04自动化 - 自动化测试、自动化部署、云/容器化


### 